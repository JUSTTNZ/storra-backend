{"error":{"__isAuthError":true,"code":"invalid_credentials","name":"AuthApiError","status":400},"level":"warn","message":"Supabase login failed","timestamp":"2025-11-20T23:25:02.810Z"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-20T23:25:20.276Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-20T23:25:24.079Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-20T23:25:29.020Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-20T23:25:31.480Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[401] User not authenticated","method":"GET","path":"/api/v1/daily/info","stack":"ApiError: User not authenticated\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\daily.controller.ts:111:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)","timestamp":"2025-11-20T23:25:34.747Z","userAgent":"okhttp/4.12.0"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[401] User not authenticated","method":"POST","path":"/api/v1/daily/claim","stack":"ApiError: User not authenticated\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\daily.controller.ts:15:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)","timestamp":"2025-11-20T23:25:39.061Z","userAgent":"okhttp/4.12.0"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[401] User not authenticated","method":"POST","path":"/api/v1/daily/claim","stack":"ApiError: User not authenticated\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\daily.controller.ts:15:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)","timestamp":"2025-11-20T23:25:41.546Z","userAgent":"okhttp/4.12.0"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[401] User not authenticated","method":"POST","path":"/api/v1/daily/claim","stack":"ApiError: User not authenticated\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\daily.controller.ts:15:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)","timestamp":"2025-11-20T23:25:44.231Z","userAgent":"okhttp/4.12.0"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[401] User not authenticated","method":"POST","path":"/api/v1/daily/claim","stack":"ApiError: User not authenticated\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\daily.controller.ts:15:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)","timestamp":"2025-11-20T23:26:00.799Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-20T23:27:49.041Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-20T23:28:07.424Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[400] You already claimed today's reward","method":"POST","path":"/api/v1/daily/claim","stack":"ApiError: You already claimed today's reward\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\daily.controller.ts:49:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-20T23:28:19.582Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:33:49.533Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:33:52.259Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:33:56.735Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:34:37.773Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:34:41.611Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:34:44.530Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:34:47.208Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:34:50.992Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:35:06.801Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:38:47.365Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:45:03.012Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:45:08.226Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:45:15.840Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:46:44.677Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:49:03.531Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:49:06.898Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:49:11.739Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:49:25.072Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:59:44.318Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:59:48.820Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:59:53.383Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T20:00:03.432Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T20:01:27.909Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T20:02:28.566Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T20:02:57.050Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"error":"profile.courses is not iterable","level":"error","message":"Get current user error","timestamp":"2025-11-22T20:14:30.590Z"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[500] profile.courses is not iterable","method":"GET","path":"/api/v1/student/me","stack":"ApiError: profile.courses is not iterable\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at getCurrentUser (C:\\Users\\HP\\storra-backend\\src\\controllers\\user.controller.ts:273:5)","timestamp":"2025-11-22T20:14:30.641Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:17:59.563Z","userId":"691992ef757446fa524ca7b7"}
{"error":"coursesProgress is not defined","level":"error","message":"Get current user error","timestamp":"2025-11-22T20:17:59.578Z"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[500] coursesProgress is not defined","method":"GET","path":"/api/v1/student/me","stack":"ApiError: coursesProgress is not defined\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at getCurrentUser (C:\\Users\\HP\\storra-backend\\src\\controllers\\user.controller.ts:238:5)","timestamp":"2025-11-22T20:17:59.620Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:21:58.717Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:22:03.076Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:22:09.401Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:22:18.913Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:30:01.946Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:30:04.370Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:30:08.937Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:30:14.458Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:34:41.677Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:34:44.518Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:34:49.572Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:34:55.320Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:35:16.429Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:35:27.031Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:35:35.490Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:36:11.222Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:36:36.538Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:37:19.113Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:42:42.656Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:54:08.959Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:54:13.942Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:54:19.789Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:54:43.898Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:54:50.217Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:56:01.209Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:56:07.111Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:56:16.947Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:07:47.720Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:07:52.433Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:07:59.861Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:10:39.781Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:10:50.523Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:11:31.632Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:11:36.839Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:11:45.318Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:11:45.923Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:12:09.877Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:12:36.551Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:12:41.338Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:12:47.929Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:12:48.488Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:13:03.354Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:13:13.906Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:14:36.106Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:17:00.470Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:17:08.446Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:17:13.952Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:18:26.157Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:18:31.071Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:18:31.998Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:19:05.578Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:19:06.578Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:19:07.035Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:19:07.596Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:19:16.073Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:19:17.082Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:19:43.319Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:19:44.685Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:23:27.776Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:23:37.850Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:23:38.875Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:23:39.486Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:24:00.993Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:24:07.102Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:24:15.261Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:24:16.407Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:29:36.975Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:30:03.676Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:30:43.021Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:33:56.725Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:35:01.668Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:36:26.453Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:40:52.746Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:00:27.486Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:00:35.469Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:07:46.474Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:07:52.688Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:11:48.714Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:11:59.334Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:13:20.633Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:13:24.040Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:14:48.733Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:17:01.234Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:18:27.417Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:19:26.556Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:19:35.625Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:19:53.710Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:27:52.371Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:28:00.729Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:36:25.131Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:36:29.172Z","userId":"691992ef757446fa524ca7b7"}
{"error":"Not authenticated","level":"error","message":"Edit profile error","timestamp":"2025-11-22T22:47:27.205Z"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[401] Not authenticated","method":"PUT","path":"/api/v1/student/editprofile","stack":"ApiError: Not authenticated\n    at editProfile (C:\\Users\\HP\\storra-backend\\src\\controllers\\user.controller.ts:308:13)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:186:3)","timestamp":"2025-11-22T22:47:27.216Z","userAgent":"okhttp/4.12.0"}
{"error":"Not authenticated","level":"error","message":"Edit profile error","timestamp":"2025-11-22T22:47:33.443Z"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[401] Not authenticated","method":"PUT","path":"/api/v1/student/editprofile","stack":"ApiError: Not authenticated\n    at editProfile (C:\\Users\\HP\\storra-backend\\src\\controllers\\user.controller.ts:308:13)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:186:3)","timestamp":"2025-11-22T22:47:33.452Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:50:16.579Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:50:21.996Z","userId":"691992ef757446fa524ca7b7"}
{"error":"Not authenticated","level":"error","message":"Edit profile error","timestamp":"2025-11-22T22:50:45.644Z"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[401] Not authenticated","method":"PUT","path":"/api/v1/student/editprofile","stack":"ApiError: Not authenticated\n    at editProfile (C:\\Users\\HP\\storra-backend\\src\\controllers\\user.controller.ts:308:13)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:186:3)","timestamp":"2025-11-22T22:50:45.674Z","userAgent":"okhttp/4.12.0"}
{"error":"Not authenticated","level":"error","message":"Edit profile error","timestamp":"2025-11-22T22:51:50.958Z"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[401] Not authenticated","method":"PUT","path":"/api/v1/student/editprofile","stack":"ApiError: Not authenticated\n    at editProfile (C:\\Users\\HP\\storra-backend\\src\\controllers\\user.controller.ts:308:13)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:186:3)","timestamp":"2025-11-22T22:51:50.960Z","userAgent":"okhttp/4.12.0"}
{"error":"Cannot read properties of undefined (reading 'id')","level":"error","message":"Edit profile error","timestamp":"2025-11-22T22:52:33.659Z"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[500] Cannot read properties of undefined (reading 'id')","method":"PUT","path":"/api/v1/student/editprofile","stack":"ApiError: Cannot read properties of undefined (reading 'id')\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at Immediate.next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at Immediate._onImmediate (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15)\n    at process.processImmediate (node:internal/timers:493:21)","timestamp":"2025-11-22T22:52:33.686Z","userAgent":"okhttp/4.12.0"}
{"error":"Cannot read properties of undefined (reading 'id')","level":"error","message":"Edit profile error","timestamp":"2025-11-22T22:52:44.278Z"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[500] Cannot read properties of undefined (reading 'id')","method":"PUT","path":"/api/v1/student/editprofile","stack":"ApiError: Cannot read properties of undefined (reading 'id')\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at Immediate.next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at Immediate._onImmediate (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15)\n    at process.processImmediate (node:internal/timers:493:21)","timestamp":"2025-11-22T22:52:44.292Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:53:53.307Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:54:02.780Z","userId":"691992ef757446fa524ca7b7"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[500] Unexpected field","method":"POST","path":"/api/v1/profile/upload-profile","stack":"ApiError: Unexpected field\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at Immediate.next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at Immediate._onImmediate (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15)\n    at process.processImmediate (node:internal/timers:493:21)","timestamp":"2025-11-22T23:06:11.840Z","userAgent":"okhttp/4.12.0"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[500] Unexpected field","method":"POST","path":"/api/v1/profile/upload-profile","stack":"ApiError: Unexpected field\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at Immediate.next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at Immediate._onImmediate (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15)\n    at process.processImmediate (node:internal/timers:493:21)","timestamp":"2025-11-22T23:09:49.756Z","userAgent":"okhttp/4.12.0"}
{"code":"validation_failed","fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthApiError\",\n  \"status\": 400,\n  \"code\": \"validation_failed\"\n}","level":"error","message":"Supabase signup failed Unable to validate email address: invalid format","status":400,"timestamp":"2025-11-22T23:12:05.705Z"}
{"error":"User validation failed: parentPhoneNumber: Invalid parent phone number format","level":"error","message":"MongoDB profile creation failed, rolling back Supabase user","supabaseUserId":"fd1b7bcd-eed9-4d3d-8313-77d4d8e46dd6","timestamp":"2025-11-22T23:12:14.850Z"}
{"error":"Registration failed due to a database error. Please try again.","level":"error","message":"Registration error","timestamp":"2025-11-22T23:12:15.219Z"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[500] Registration failed due to a database error. Please try again.","method":"POST","path":"/api/v1/student/registeruser","stack":"ApiError: Registration failed due to a database error. Please try again.\n    at registerUser (C:\\Users\\HP\\storra-backend\\src\\controllers\\user.controller.ts:116:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-22T23:12:15.227Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2025-11-22T23:12:27.865Z","userId":"6922435b69c4b6316694b292"}
{"currentClassLevel":"primary","level":"info","message":"✅ User personalization updated","profilePictureUrl":"https://jcthcymlysinaoqbouln.supabase.co/storage/v1/object/public/avatars/1763853159302.jpg","timestamp":"2025-11-22T23:12:40.995Z","userId":"6922435b69c4b6316694b292"}
{"currentClassLevel":"primary","level":"info","message":"✅ User personalization updated","profilePictureUrl":"https://jcthcymlysinaoqbouln.supabase.co/storage/v1/object/public/avatars/1763853298368.jpg","timestamp":"2025-11-22T23:15:00.784Z","userId":"6922435b69c4b6316694b292"}
{"goals":["homework_help"],"level":"info","message":"✅ User learning goals updated","timestamp":"2025-11-22T23:15:02.762Z","userId":"6922435b69c4b6316694b292"}
{"classId":"primary-3","educationLevel":"primary","level":"info","message":"User class selected","timestamp":"2025-11-22T23:15:04.929Z","userId":"6922435b69c4b6316694b292"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:15:23.601Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:15:26.750Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:16:47.123Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:16:57.302Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:24:49.009Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:24:52.399Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:33:00.709Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:33:04.218Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:34:20.328Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:39:20.023Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T00:32:46.391Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T00:32:52.219Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T00:38:38.446Z","userId":"691992ef757446fa524ca7b7"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[400] You already claimed today's reward","method":"POST","path":"/api/v1/daily/claim","stack":"ApiError: You already claimed today's reward\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\daily.controller.ts:49:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-23T00:38:44.244Z","userAgent":"okhttp/4.12.0"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[400] You already claimed today's reward","method":"POST","path":"/api/v1/daily/claim","stack":"ApiError: You already claimed today's reward\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\daily.controller.ts:49:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-23T00:38:48.101Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T01:06:03.867Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T01:06:08.168Z","userId":"691992ef757446fa524ca7b7"}
