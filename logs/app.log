{"error":{"__isAuthError":true,"code":"invalid_credentials","name":"AuthApiError","status":400},"level":"warn","message":"Supabase login failed","timestamp":"2025-11-20T23:25:02.810Z"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-20T23:25:20.276Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-20T23:25:24.079Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-20T23:25:29.020Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-20T23:25:31.480Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[401] User not authenticated","method":"GET","path":"/api/v1/daily/info","stack":"ApiError: User not authenticated\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\daily.controller.ts:111:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)","timestamp":"2025-11-20T23:25:34.747Z","userAgent":"okhttp/4.12.0"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[401] User not authenticated","method":"POST","path":"/api/v1/daily/claim","stack":"ApiError: User not authenticated\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\daily.controller.ts:15:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)","timestamp":"2025-11-20T23:25:39.061Z","userAgent":"okhttp/4.12.0"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[401] User not authenticated","method":"POST","path":"/api/v1/daily/claim","stack":"ApiError: User not authenticated\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\daily.controller.ts:15:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)","timestamp":"2025-11-20T23:25:41.546Z","userAgent":"okhttp/4.12.0"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[401] User not authenticated","method":"POST","path":"/api/v1/daily/claim","stack":"ApiError: User not authenticated\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\daily.controller.ts:15:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)","timestamp":"2025-11-20T23:25:44.231Z","userAgent":"okhttp/4.12.0"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[401] User not authenticated","method":"POST","path":"/api/v1/daily/claim","stack":"ApiError: User not authenticated\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\daily.controller.ts:15:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)","timestamp":"2025-11-20T23:26:00.799Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-20T23:27:49.041Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-20T23:28:07.424Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[400] You already claimed today's reward","method":"POST","path":"/api/v1/daily/claim","stack":"ApiError: You already claimed today's reward\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\daily.controller.ts:49:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-20T23:28:19.582Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:33:49.533Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:33:52.259Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:33:56.735Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:34:37.773Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:34:41.611Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:34:44.530Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:34:47.208Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:34:50.992Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:35:06.801Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:38:47.365Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:45:03.012Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:45:08.226Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:45:15.840Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:46:44.677Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:49:03.531Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:49:06.898Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:49:11.739Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:49:25.072Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:59:44.318Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:59:48.820Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T19:59:53.383Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T20:00:03.432Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T20:01:27.909Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T20:02:28.566Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"level":"info","message":"✅ Current user  fetched","timestamp":"2025-11-22T20:02:57.050Z","userId":"24147fc8-e236-457e-bbc2-7128fb3db8c4"}
{"error":"profile.courses is not iterable","level":"error","message":"Get current user error","timestamp":"2025-11-22T20:14:30.590Z"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[500] profile.courses is not iterable","method":"GET","path":"/api/v1/student/me","stack":"ApiError: profile.courses is not iterable\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at getCurrentUser (C:\\Users\\HP\\storra-backend\\src\\controllers\\user.controller.ts:273:5)","timestamp":"2025-11-22T20:14:30.641Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:17:59.563Z","userId":"691992ef757446fa524ca7b7"}
{"error":"coursesProgress is not defined","level":"error","message":"Get current user error","timestamp":"2025-11-22T20:17:59.578Z"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[500] coursesProgress is not defined","method":"GET","path":"/api/v1/student/me","stack":"ApiError: coursesProgress is not defined\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at getCurrentUser (C:\\Users\\HP\\storra-backend\\src\\controllers\\user.controller.ts:238:5)","timestamp":"2025-11-22T20:17:59.620Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:21:58.717Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:22:03.076Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:22:09.401Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:22:18.913Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:30:01.946Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:30:04.370Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:30:08.937Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:30:14.458Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:34:41.677Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:34:44.518Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:34:49.572Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:34:55.320Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:35:16.429Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:35:27.031Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:35:35.490Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:36:11.222Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:36:36.538Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:37:19.113Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:42:42.656Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:54:08.959Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:54:13.942Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:54:19.789Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:54:43.898Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:54:50.217Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:56:01.209Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:56:07.111Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T20:56:16.947Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:07:47.720Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:07:52.433Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:07:59.861Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:10:39.781Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:10:50.523Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:11:31.632Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:11:36.839Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:11:45.318Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:11:45.923Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:12:09.877Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:12:36.551Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:12:41.338Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:12:47.929Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:12:48.488Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:13:03.354Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:13:13.906Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:14:36.106Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:17:00.470Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:17:08.446Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:17:13.952Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:18:26.157Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:18:31.071Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:18:31.998Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:19:05.578Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:19:06.578Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:19:07.035Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:19:07.596Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:19:16.073Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:19:17.082Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:19:43.319Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:19:44.685Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:23:27.776Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:23:37.850Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:23:38.875Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:23:39.486Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:24:00.993Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:24:07.102Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:24:15.261Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:24:16.407Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:29:36.975Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:30:03.676Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:30:43.021Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:33:56.725Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:35:01.668Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:36:26.453Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T21:40:52.746Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:00:27.486Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:00:35.469Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:07:46.474Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:07:52.688Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:11:48.714Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:11:59.334Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:13:20.633Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:13:24.040Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:14:48.733Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:17:01.234Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:18:27.417Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:19:26.556Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:19:35.625Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:19:53.710Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:27:52.371Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:28:00.729Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:36:25.131Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:36:29.172Z","userId":"691992ef757446fa524ca7b7"}
{"error":"Not authenticated","level":"error","message":"Edit profile error","timestamp":"2025-11-22T22:47:27.205Z"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[401] Not authenticated","method":"PUT","path":"/api/v1/student/editprofile","stack":"ApiError: Not authenticated\n    at editProfile (C:\\Users\\HP\\storra-backend\\src\\controllers\\user.controller.ts:308:13)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:186:3)","timestamp":"2025-11-22T22:47:27.216Z","userAgent":"okhttp/4.12.0"}
{"error":"Not authenticated","level":"error","message":"Edit profile error","timestamp":"2025-11-22T22:47:33.443Z"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[401] Not authenticated","method":"PUT","path":"/api/v1/student/editprofile","stack":"ApiError: Not authenticated\n    at editProfile (C:\\Users\\HP\\storra-backend\\src\\controllers\\user.controller.ts:308:13)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:186:3)","timestamp":"2025-11-22T22:47:33.452Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:50:16.579Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:50:21.996Z","userId":"691992ef757446fa524ca7b7"}
{"error":"Not authenticated","level":"error","message":"Edit profile error","timestamp":"2025-11-22T22:50:45.644Z"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[401] Not authenticated","method":"PUT","path":"/api/v1/student/editprofile","stack":"ApiError: Not authenticated\n    at editProfile (C:\\Users\\HP\\storra-backend\\src\\controllers\\user.controller.ts:308:13)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:186:3)","timestamp":"2025-11-22T22:50:45.674Z","userAgent":"okhttp/4.12.0"}
{"error":"Not authenticated","level":"error","message":"Edit profile error","timestamp":"2025-11-22T22:51:50.958Z"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[401] Not authenticated","method":"PUT","path":"/api/v1/student/editprofile","stack":"ApiError: Not authenticated\n    at editProfile (C:\\Users\\HP\\storra-backend\\src\\controllers\\user.controller.ts:308:13)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at Function.handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:186:3)","timestamp":"2025-11-22T22:51:50.960Z","userAgent":"okhttp/4.12.0"}
{"error":"Cannot read properties of undefined (reading 'id')","level":"error","message":"Edit profile error","timestamp":"2025-11-22T22:52:33.659Z"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[500] Cannot read properties of undefined (reading 'id')","method":"PUT","path":"/api/v1/student/editprofile","stack":"ApiError: Cannot read properties of undefined (reading 'id')\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at Immediate.next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at Immediate._onImmediate (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15)\n    at process.processImmediate (node:internal/timers:493:21)","timestamp":"2025-11-22T22:52:33.686Z","userAgent":"okhttp/4.12.0"}
{"error":"Cannot read properties of undefined (reading 'id')","level":"error","message":"Edit profile error","timestamp":"2025-11-22T22:52:44.278Z"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[500] Cannot read properties of undefined (reading 'id')","method":"PUT","path":"/api/v1/student/editprofile","stack":"ApiError: Cannot read properties of undefined (reading 'id')\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at Immediate.next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at Immediate._onImmediate (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15)\n    at process.processImmediate (node:internal/timers:493:21)","timestamp":"2025-11-22T22:52:44.292Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:53:53.307Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T22:54:02.780Z","userId":"691992ef757446fa524ca7b7"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[500] Unexpected field","method":"POST","path":"/api/v1/profile/upload-profile","stack":"ApiError: Unexpected field\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at Immediate.next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at Immediate._onImmediate (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15)\n    at process.processImmediate (node:internal/timers:493:21)","timestamp":"2025-11-22T23:06:11.840Z","userAgent":"okhttp/4.12.0"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[500] Unexpected field","method":"POST","path":"/api/v1/profile/upload-profile","stack":"ApiError: Unexpected field\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at Immediate.next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at Immediate._onImmediate (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15)\n    at process.processImmediate (node:internal/timers:493:21)","timestamp":"2025-11-22T23:09:49.756Z","userAgent":"okhttp/4.12.0"}
{"code":"validation_failed","fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthApiError\",\n  \"status\": 400,\n  \"code\": \"validation_failed\"\n}","level":"error","message":"Supabase signup failed Unable to validate email address: invalid format","status":400,"timestamp":"2025-11-22T23:12:05.705Z"}
{"error":"User validation failed: parentPhoneNumber: Invalid parent phone number format","level":"error","message":"MongoDB profile creation failed, rolling back Supabase user","supabaseUserId":"fd1b7bcd-eed9-4d3d-8313-77d4d8e46dd6","timestamp":"2025-11-22T23:12:14.850Z"}
{"error":"Registration failed due to a database error. Please try again.","level":"error","message":"Registration error","timestamp":"2025-11-22T23:12:15.219Z"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[500] Registration failed due to a database error. Please try again.","method":"POST","path":"/api/v1/student/registeruser","stack":"ApiError: Registration failed due to a database error. Please try again.\n    at registerUser (C:\\Users\\HP\\storra-backend\\src\\controllers\\user.controller.ts:116:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-22T23:12:15.227Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2025-11-22T23:12:27.865Z","userId":"6922435b69c4b6316694b292"}
{"currentClassLevel":"primary","level":"info","message":"✅ User personalization updated","profilePictureUrl":"https://jcthcymlysinaoqbouln.supabase.co/storage/v1/object/public/avatars/1763853159302.jpg","timestamp":"2025-11-22T23:12:40.995Z","userId":"6922435b69c4b6316694b292"}
{"currentClassLevel":"primary","level":"info","message":"✅ User personalization updated","profilePictureUrl":"https://jcthcymlysinaoqbouln.supabase.co/storage/v1/object/public/avatars/1763853298368.jpg","timestamp":"2025-11-22T23:15:00.784Z","userId":"6922435b69c4b6316694b292"}
{"goals":["homework_help"],"level":"info","message":"✅ User learning goals updated","timestamp":"2025-11-22T23:15:02.762Z","userId":"6922435b69c4b6316694b292"}
{"classId":"primary-3","educationLevel":"primary","level":"info","message":"User class selected","timestamp":"2025-11-22T23:15:04.929Z","userId":"6922435b69c4b6316694b292"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:15:23.601Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:15:26.750Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:16:47.123Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:16:57.302Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:24:49.009Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:24:52.399Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:33:00.709Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:33:04.218Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:34:20.328Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-22T23:39:20.023Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T00:32:46.391Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T00:32:52.219Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T00:38:38.446Z","userId":"691992ef757446fa524ca7b7"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[400] You already claimed today's reward","method":"POST","path":"/api/v1/daily/claim","stack":"ApiError: You already claimed today's reward\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\daily.controller.ts:49:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-23T00:38:44.244Z","userAgent":"okhttp/4.12.0"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[400] You already claimed today's reward","method":"POST","path":"/api/v1/daily/claim","stack":"ApiError: You already claimed today's reward\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\daily.controller.ts:49:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-23T00:38:48.101Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T01:06:03.867Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T01:06:08.168Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T01:21:17.786Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T01:21:21.115Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T01:30:52.196Z","userId":"691639539d0c6c278e1a6ba9"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T01:30:55.361Z","userId":"691639539d0c6c278e1a6ba9"}
{"error":{"__isAuthError":true,"code":"invalid_credentials","name":"AuthApiError","status":400},"level":"warn","message":"Supabase login failed","timestamp":"2025-11-23T01:34:06.450Z"}
{"error":{"__isAuthError":true,"code":"invalid_credentials","name":"AuthApiError","status":400},"level":"warn","message":"Supabase login failed","timestamp":"2025-11-23T01:34:15.110Z"}
{"error":{"__isAuthError":true,"code":"invalid_credentials","name":"AuthApiError","status":400},"level":"warn","message":"Supabase login failed","timestamp":"2025-11-23T01:34:19.038Z"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T01:34:31.755Z","userId":"6919aad4b7be6b376e7054c3"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T01:34:35.509Z","userId":"6919aad4b7be6b376e7054c3"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-23T01:34:36.208Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T01:57:19.196Z","userId":"6919aad4b7be6b376e7054c3"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T01:57:59.546Z","userId":"6919a7ddfefd942d9ae70e9a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T01:58:04.079Z","userId":"6919a7ddfefd942d9ae70e9a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:00:05.713Z","userId":"6919a7ddfefd942d9ae70e9a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:00:14.806Z","userId":"6919a7ddfefd942d9ae70e9a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:00:27.458Z","userId":"6919a7ddfefd942d9ae70e9a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:20:12.936Z","userId":"6919a7ddfefd942d9ae70e9a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:22:57.696Z","userId":"6919a7ddfefd942d9ae70e9a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:23:15.238Z","userId":"6919a7ddfefd942d9ae70e9a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:23:19.232Z","userId":"6919a7ddfefd942d9ae70e9a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:23:28.424Z","userId":"6919a7ddfefd942d9ae70e9a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:31:08.882Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:31:12.712Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:31:23.412Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:34:05.709Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:40:23.251Z","userId":"691992ef757446fa524ca7b7"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[400] No spin chances available for today","method":"POST","path":"/api/v1/spin/spinthewheel","stack":"ApiError: No spin chances available for today\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\spinTheWheel.controller.ts:68:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-23T02:40:27.279Z","userAgent":"okhttp/4.12.0"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[400] No spin chances available for today","method":"POST","path":"/api/v1/spin/spinthewheel","stack":"ApiError: No spin chances available for today\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\spinTheWheel.controller.ts:68:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-11-23T02:40:32.849Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:42:58.564Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:42:59.308Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2025-11-23T02:43:24.226Z","userId":"692274cbebb3d4bf8cbc1336"}
{"currentClassLevel":"primary","level":"info","message":"✅ User personalization updated","profilePictureUrl":"https://jcthcymlysinaoqbouln.supabase.co/storage/v1/object/public/avatars/1763865823087.jpg","timestamp":"2025-11-23T02:43:44.994Z","userId":"692274cbebb3d4bf8cbc1336"}
{"goals":["ace_tests"],"level":"info","message":"✅ User learning goals updated","timestamp":"2025-11-23T02:43:47.646Z","userId":"692274cbebb3d4bf8cbc1336"}
{"classId":"primary-3","educationLevel":"primary","level":"info","message":"User class selected","timestamp":"2025-11-23T02:43:50.096Z","userId":"692274cbebb3d4bf8cbc1336"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:44:07.429Z","userId":"692274cbebb3d4bf8cbc1336"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:44:11.039Z","userId":"692274cbebb3d4bf8cbc1336"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:44:28.427Z","userId":"692274cbebb3d4bf8cbc1336"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:44:44.558Z","userId":"692274cbebb3d4bf8cbc1336"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:47:01.717Z","userId":"692274cbebb3d4bf8cbc1336"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:52:26.469Z","userId":"692274cbebb3d4bf8cbc1336"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:53:11.632Z","userId":"692274cbebb3d4bf8cbc1336"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:55:23.530Z","userId":"692274cbebb3d4bf8cbc1336"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:58:12.581Z","userId":"692274cbebb3d4bf8cbc1336"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:58:16.165Z","userId":"692274cbebb3d4bf8cbc1336"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:58:23.451Z","userId":"692274cbebb3d4bf8cbc1336"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T02:59:54.264Z","userId":"692274cbebb3d4bf8cbc1336"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T03:00:03.167Z","userId":"692274cbebb3d4bf8cbc1336"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T03:00:29.562Z","userId":"692274cbebb3d4bf8cbc1336"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T03:00:53.245Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T03:00:56.933Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T03:01:04.916Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:34:37.879Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:34:42.334Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:34:53.903Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:36:49.159Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:37:40.064Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:37:47.874Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:38:47.066Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:38:51.640Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:42:06.426Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:42:50.327Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:43:14.726Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:43:23.339Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:43:38.688Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:43:50.147Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:44:01.624Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:44:09.117Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:44:18.228Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:44:29.941Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:44:39.205Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:44:51.118Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:44:56.830Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:45:21.392Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:45:35.708Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:45:53.752Z","userId":"692274cbebb3d4bf8cbc1336"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:45:57.592Z","userId":"692274cbebb3d4bf8cbc1336"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:46:05.422Z","userId":"692274cbebb3d4bf8cbc1336"}
{"code":"email_exists","fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthApiError\",\n  \"status\": 422,\n  \"code\": \"email_exists\"\n}","level":"error","message":"Supabase signup failed A user with this email address has already been registered","status":422,"timestamp":"2025-11-23T18:46:56.239Z"}
{"code":"email_exists","fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthApiError\",\n  \"status\": 422,\n  \"code\": \"email_exists\"\n}","level":"error","message":"Supabase signup failed A user with this email address has already been registered","status":422,"timestamp":"2025-11-23T18:47:02.705Z"}
{"code":"email_exists","fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthApiError\",\n  \"status\": 422,\n  \"code\": \"email_exists\"\n}","level":"error","message":"Supabase signup failed A user with this email address has already been registered","status":422,"timestamp":"2025-11-23T18:47:13.228Z"}
{"code":"email_exists","fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthApiError\",\n  \"status\": 422,\n  \"code\": \"email_exists\"\n}","level":"error","message":"Supabase signup failed A user with this email address has already been registered","status":422,"timestamp":"2025-11-23T18:47:22.383Z"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2025-11-23T18:47:34.004Z","userId":"692356c5210d9dbf054cbd2a"}
{"currentClassLevel":"primary","level":"info","message":"✅ User personalization updated","profilePictureUrl":"https://jcthcymlysinaoqbouln.supabase.co/storage/v1/object/public/avatars/1763923666832.jpg","timestamp":"2025-11-23T18:47:49.271Z","userId":"692356c5210d9dbf054cbd2a"}
{"goals":["understand_concepts"],"level":"info","message":"✅ User learning goals updated","timestamp":"2025-11-23T18:47:51.789Z","userId":"692356c5210d9dbf054cbd2a"}
{"classId":"primary-1","educationLevel":"primary","level":"info","message":"User class selected","timestamp":"2025-11-23T18:47:57.346Z","userId":"692356c5210d9dbf054cbd2a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:48:13.752Z","userId":"692356c5210d9dbf054cbd2a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:48:17.621Z","userId":"692356c5210d9dbf054cbd2a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:48:27.672Z","userId":"692356c5210d9dbf054cbd2a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:51:23.378Z","userId":"692356c5210d9dbf054cbd2a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:52:50.982Z","userId":"692356c5210d9dbf054cbd2a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:53:59.169Z","userId":"692356c5210d9dbf054cbd2a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:54:05.204Z","userId":"692356c5210d9dbf054cbd2a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:56:06.204Z","userId":"692356c5210d9dbf054cbd2a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:57:53.784Z","userId":"692356c5210d9dbf054cbd2a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T18:59:12.238Z","userId":"692356c5210d9dbf054cbd2a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T19:00:04.157Z","userId":"692356c5210d9dbf054cbd2a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T19:00:32.520Z","userId":"692356c5210d9dbf054cbd2a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T19:00:45.423Z","userId":"692356c5210d9dbf054cbd2a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-23T19:00:53.422Z","userId":"692356c5210d9dbf054cbd2a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T19:22:57.966Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T19:23:04.331Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T19:23:30.160Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T19:24:35.239Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T19:25:08.834Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T19:25:25.104Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T22:28:15.589Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T22:29:31.249Z","userId":"692ca3891a1fc6772518237e"}
{"error":{"__isAuthError":true,"code":"invalid_credentials","name":"AuthApiError","status":400},"level":"warn","message":"Supabase login failed","timestamp":"2025-11-30T22:56:34.651Z"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T22:56:47.502Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:06:55.711Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:07:05.986Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:07:22.539Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:11:29.291Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:12:35.478Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:14:04.355Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:17:11.090Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:17:48.364Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:18:10.427Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:19:27.820Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:22:23.227Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:27:18.260Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:29:10.098Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:30:24.260Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:31:25.520Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:33:47.698Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:38:04.356Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:39:43.661Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:42:04.327Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:42:12.453Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:42:42.259Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:43:19.736Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:43:26.904Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:43:34.910Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:47:45.972Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:52:24.408Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-11-30T23:57:36.798Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T00:08:11.448Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T00:10:00.957Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T00:10:29.070Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T00:15:49.476Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T00:17:23.072Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T00:19:11.045Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T00:24:12.067Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2025-12-01T18:25:37.159Z","userId":"692ddda0fb8fc9bdc5f3884a"}
{"currentClassLevel":"primary","level":"info","message":"✅ User personalization updated","profilePictureUrl":"https://jcthcymlysinaoqbouln.supabase.co/storage/v1/object/public/avatars/1764613558711.jpg","timestamp":"2025-12-01T18:26:00.712Z","userId":"692ddda0fb8fc9bdc5f3884a"}
{"goals":["understand_concepts"],"level":"info","message":"✅ User learning goals updated","timestamp":"2025-12-01T18:26:03.588Z","userId":"692ddda0fb8fc9bdc5f3884a"}
{"classId":"primary-1","educationLevel":"primary","level":"info","message":"User class selected","timestamp":"2025-12-01T18:26:07.366Z","userId":"692ddda0fb8fc9bdc5f3884a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T18:26:26.630Z","userId":"692ddda0fb8fc9bdc5f3884a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T18:26:43.621Z","userId":"692ddda0fb8fc9bdc5f3884a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T18:34:53.665Z","userId":"692ddda0fb8fc9bdc5f3884a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T18:35:30.297Z","userId":"692ddda0fb8fc9bdc5f3884a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T18:43:52.005Z","userId":"692ddda0fb8fc9bdc5f3884a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T18:44:43.077Z","userId":"692ddda0fb8fc9bdc5f3884a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T18:45:01.641Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T18:46:18.675Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T18:52:09.157Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T18:53:39.457Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T18:53:39.988Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T19:00:06.333Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T19:11:57.807Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T19:16:43.842Z","userId":"692ca3891a1fc6772518237e"}
{"error":{"__isAuthError":true,"name":"AuthRetryableFetchError","status":0},"level":"warn","message":"Supabase login failed","timestamp":"2025-12-01T19:23:42.211Z"}
{"error":{"__isAuthError":true,"name":"AuthRetryableFetchError","status":0},"level":"warn","message":"Supabase login failed","timestamp":"2025-12-01T19:24:01.653Z"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T19:25:48.835Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-01T20:08:12.163Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-02T22:05:14.221Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-02T22:14:11.135Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-02T22:46:49.102Z","userId":"692ca3891a1fc6772518237e"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-02T23:22:30.705Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-02T23:24:24.311Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-02T23:50:54.035Z","userId":"69179ca2e0cf5357482bb90c"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[500] E11000 duplicate key error collection: STORRA_BACKEND.lessonprogresses index: userId_1_courseId_1_lessonId_1 dup key: { userId: ObjectId('69179ca2e0cf5357482bb90c'), courseId: \"pry1-english\", lessonId: \"pry1-english-lesson1\" }","method":"PUT","path":"/api/v1/progress/lesson/pry1-english-lesson1","stack":"ApiError: E11000 duplicate key error collection: STORRA_BACKEND.lessonprogresses index: userId_1_courseId_1_lessonId_1 dup key: { userId: ObjectId('69179ca2e0cf5357482bb90c'), courseId: \"pry1-english\", lessonId: \"pry1-english-lesson1\" }\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-02T23:53:21.509Z","userAgent":"okhttp/4.12.0"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[500] E11000 duplicate key error collection: STORRA_BACKEND.lessonprogresses index: userId_1_courseId_1_lessonId_1 dup key: { userId: ObjectId('69179ca2e0cf5357482bb90c'), courseId: \"pry1-english\", lessonId: \"pry1-english-lesson1\" }","method":"PUT","path":"/api/v1/progress/lesson/pry1-english-lesson1","stack":"ApiError: E11000 duplicate key error collection: STORRA_BACKEND.lessonprogresses index: userId_1_courseId_1_lessonId_1 dup key: { userId: ObjectId('69179ca2e0cf5357482bb90c'), courseId: \"pry1-english\", lessonId: \"pry1-english-lesson1\" }\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-02T23:53:21.533Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-03T00:07:35.401Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-03T00:11:34.008Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-03T21:17:43.011Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-03T21:28:20.995Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-03T21:29:55.538Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-03T21:36:06.725Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-03T21:38:35.362Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-03T21:46:32.804Z","userId":"69179ca2e0cf5357482bb90c"}
{"ip":"::ffff:192.168.0.106","level":"error","message":"[500] E11000 duplicate key error collection: STORRA_BACKEND.quizprogresses index: userId_1_quizId_1 dup key: { userId: ObjectId('69179ca2e0cf5357482bb90c'), quizId: \"pry1-arts-quiz\" }","method":"GET","path":"/api/v1/quiz/course/pry1-creativearts/quiz/pry1-arts-quiz","stack":"ApiError: E11000 duplicate key error collection: STORRA_BACKEND.quizprogresses index: userId_1_quizId_1 dup key: { userId: ObjectId('69179ca2e0cf5357482bb90c'), quizId: \"pry1-arts-quiz\" }\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2025-12-03T21:49:37.166Z","userAgent":"okhttp/4.12.0"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-03T21:52:42.990Z","userId":"69179ca2e0cf5357482bb90c"}
{"error":{"__isAuthError":true,"name":"AuthRetryableFetchError","status":0},"level":"warn","message":"Supabase login failed","timestamp":"2025-12-03T22:18:40.925Z"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-03T22:18:53.966Z","userId":"69179ca2e0cf5357482bb90c"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2025-12-03T22:43:58.473Z","userId":"69179ca2e0cf5357482bb90c"}
{"error":{"__isAuthError":true,"name":"AuthRetryableFetchError","status":0},"level":"warn","message":"Supabase login failed","timestamp":"2026-01-22T20:27:39.164Z"}
{"error":{"__isAuthError":true,"name":"AuthRetryableFetchError","status":0},"level":"warn","message":"Supabase login failed","timestamp":"2026-01-22T20:27:46.572Z"}
{"error":{"__isAuthError":true,"name":"AuthRetryableFetchError","status":0},"level":"warn","message":"Supabase login failed","timestamp":"2026-01-22T20:27:52.477Z"}
{"error":{"__isAuthError":true,"name":"AuthRetryableFetchError","status":0},"level":"warn","message":"Supabase login failed","timestamp":"2026-01-22T20:28:09.928Z"}
{"error":{"__isAuthError":true,"code":"invalid_credentials","name":"AuthApiError","status":400},"level":"warn","message":"Supabase login failed","timestamp":"2026-01-22T21:30:17.762Z"}
{"error":{"__isAuthError":true,"code":"invalid_credentials","name":"AuthApiError","status":400},"level":"warn","message":"Supabase login failed","timestamp":"2026-01-22T21:30:36.378Z"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-01-24T21:18:37.816Z","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-01-24T21:18:38.858Z","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-01-24T21:31:40.685Z","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-01-24T21:31:53.508Z","userId":"6910e11aa26a847942c215d0"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-01-24T21:31:54.892Z","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-01-24T21:31:55.556Z","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-01-24T21:32:44.059Z","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-01-24T21:32:44.550Z","userAgent":"Mozilla/5.0 (iPhone; CPU iPhone OS 18_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/18.5 Mobile/15E148 Safari/604.1"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-01-24T21:33:08.439Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-01-24T22:38:13.531Z","userId":"691992ef757446fa524ca7b7"}
{"ip":"::1","level":"error","message":"[400] No spin chances available for today","method":"POST","path":"/api/v1/spin/spinthewheel","stack":"ApiError: No spin chances available for today\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\spinTheWheel.controller.ts:87:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-01-24T23:08:21.633Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-01-24T23:33:17.663Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-01-25T08:52:57.541Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-01-25T08:53:03.460Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-01-25T08:53:23.338Z","userId":"691992ef757446fa524ca7b7"}
{"ip":"::1","level":"error","message":"[400] No spin chances available for today","method":"POST","path":"/api/v1/spin/spinthewheel","stack":"ApiError: No spin chances available for today\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\spinTheWheel.controller.ts:87:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-01-25T09:09:31.147Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] No spin chances available for today","method":"POST","path":"/api/v1/spin/spinthewheel","stack":"ApiError: No spin chances available for today\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\spinTheWheel.controller.ts:87:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-01-25T09:09:34.323Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-01-25T10:14:07.125Z","userId":"691992ef757446fa524ca7b7"}
{"ip":"::1","level":"error","message":"[400] No spin chances available for today","method":"POST","path":"/api/v1/spin/spinthewheel","stack":"ApiError: No spin chances available for today\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\spinTheWheel.controller.ts:87:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-01-25T11:12:23.759Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-01-26T19:55:46.377Z","userId":"691992ef757446fa524ca7b7"}
{"error":{"__isAuthError":true,"name":"AuthRetryableFetchError","status":0},"level":"warn","message":"Supabase login failed","timestamp":"2026-01-26T19:58:54.104Z"}
{"error":{"__isAuthError":true,"name":"AuthRetryableFetchError","status":0},"level":"warn","message":"Supabase login failed","timestamp":"2026-01-26T19:59:39.251Z"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-01-26T19:59:57.412Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-01-26T20:00:00.821Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-01-26T21:19:15.070Z","userId":"691992ef757446fa524ca7b7"}
{"error":"800B0000:error:0A000438:SSL routines:ssl3_read_bytes:tlsv1 alert internal error:c:\\ws\\deps\\openssl\\openssl\\ssl\\record\\rec_layer_s3.c:1605:SSL alert number 80\n","level":"error","message":"Login error","timestamp":"2026-01-26T21:36:49.545Z"}
{"level":"error","message":"[500] 800B0000:error:0A000438:SSL routines:ssl3_read_bytes:tlsv1 alert internal error:c:\\ws\\deps\\openssl\\openssl\\ssl\\record\\rec_layer_s3.c:1605:SSL alert number 80\n","method":"POST","path":"/api/v1/student/loginuser","stack":"ApiError: 800B0000:error:0A000438:SSL routines:ssl3_read_bytes:tlsv1 alert internal error:c:\\ws\\deps\\openssl\\openssl\\ssl\\record\\rec_layer_s3.c:1605:SSL alert number 80\n\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at loginUser (C:\\Users\\HP\\storra-backend\\src\\controllers\\user.controller.ts:186:5)","timestamp":"2026-01-26T21:36:49.711Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-01-27T22:23:08.079Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-01-27T22:23:11.929Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-01-27T22:23:43.187Z","userId":"691992ef757446fa524ca7b7"}
{"error":{"__isAuthError":true,"code":"invalid_credentials","name":"AuthApiError","status":400},"level":"warn","message":"Supabase login failed","timestamp":"2026-02-01T12:05:32.312Z"}
{"error":{"__isAuthError":true,"code":"invalid_credentials","name":"AuthApiError","status":400},"level":"warn","message":"Supabase login failed","timestamp":"2026-02-01T12:05:37.563Z"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-01T12:05:56.587Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-01T12:06:06.013Z","userId":"691992ef757446fa524ca7b7"}
{"error":{"__isAuthError":true,"code":"invalid_credentials","name":"AuthApiError","status":400},"level":"warn","message":"Supabase login failed","timestamp":"2026-02-01T12:06:48.231Z"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-01T12:06:57.889Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-01T12:07:01.645Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-01T12:08:16.381Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-01T12:57:02.180Z","userId":"691992ef757446fa524ca7b7"}
{"level":"error","message":"[500] getaddrinfo ENOTFOUND cluster0-shard-00-01.prny1.mongodb.net","method":"GET","path":"/api/v1/leaderboard","stack":"ApiError: getaddrinfo ENOTFOUND cluster0-shard-00-01.prny1.mongodb.net\n    at getLeaderboard (C:\\Users\\HP\\storra-backend\\src\\controllers\\leadboard.controller.ts:74:10)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T12:59:02.390Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"level":"error","message":"[500] getaddrinfo ENOTFOUND cluster0-shard-00-01.prny1.mongodb.net","method":"GET","path":"/api/v1/leaderboard","stack":"ApiError: getaddrinfo ENOTFOUND cluster0-shard-00-01.prny1.mongodb.net\n    at getLeaderboard (C:\\Users\\HP\\storra-backend\\src\\controllers\\leadboard.controller.ts:74:10)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at runNextTicks (node:internal/process/task_queues:69:3)\n    at listOnTimeout (node:internal/timers:555:9)\n    at process.processTimers (node:internal/timers:529:7)","timestamp":"2026-02-01T13:58:07.894Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-01T13:58:46.469Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-01T19:22:10.879Z","userId":"691992ef757446fa524ca7b7"}
{"ip":"::1","level":"error","message":"[400] No spin chances available for today","method":"POST","path":"/api/v1/spin/spinthewheel","stack":"ApiError: No spin chances available for today\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\spinTheWheel.controller.ts:88:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T19:23:08.921Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] No spin chances available for today","method":"POST","path":"/api/v1/spin/spinthewheel","stack":"ApiError: No spin chances available for today\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\spinTheWheel.controller.ts:88:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T19:23:11.470Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-01T19:28:25.701Z","userId":"691639539d0c6c278e1a6ba9"}
{"ip":"::1","level":"error","message":"[400] No spin chances available for today","method":"POST","path":"/api/v1/spin/spinthewheel","stack":"ApiError: No spin chances available for today\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\spinTheWheel.controller.ts:109:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T19:50:24.232Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2026-02-01T19:52:28.121Z","userId":"697faefbed66770bf9749735"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-01T19:52:38.856Z","userId":"697faefbed66770bf9749735"}
{"error":"Age, class level, and preferred language are required","level":"error","message":"❌ Update personalization error","timestamp":"2026-02-01T19:54:09.389Z"}
{"ip":"::1","level":"error","message":"[400] Age, class level, and preferred language are required","method":"PATCH","path":"/api/v1/onboarding/personalization/697faefbed66770bf9749735","stack":"ApiError: Age, class level, and preferred language are required\n    at updatePersonalization (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:24:13)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at param (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:600:14)\n    at param (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:610:14)\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:664:3)","timestamp":"2026-02-01T19:54:09.423Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"error":"Age, class level, and preferred language are required","level":"error","message":"❌ Update personalization error","timestamp":"2026-02-01T19:54:23.718Z"}
{"ip":"::1","level":"error","message":"[400] Age, class level, and preferred language are required","method":"PATCH","path":"/api/v1/onboarding/personalization/697faefbed66770bf9749735","stack":"ApiError: Age, class level, and preferred language are required\n    at updatePersonalization (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:24:13)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at param (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:600:14)\n    at param (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:610:14)\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:664:3)","timestamp":"2026-02-01T19:54:23.729Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"error":"Cast to Number failed for value \"5-7\" (type string) at path \"age\"","level":"error","message":"❌ Update personalization error","timestamp":"2026-02-01T20:26:24.326Z"}
{"ip":"::1","level":"error","message":"[500] Cast to Number failed for value \"5-7\" (type string) at path \"age\"","method":"PATCH","path":"/api/v1/onboarding/personalization/697faefbed66770bf9749735","stack":"ApiError: Cast to Number failed for value \"5-7\" (type string) at path \"age\"\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at updatePersonalization (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:63:5)","timestamp":"2026-02-01T20:26:24.335Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"error":"Cast to Number failed for value \"5-7\" (type string) at path \"age\"","level":"error","message":"❌ Update personalization error","timestamp":"2026-02-01T20:28:06.759Z"}
{"ip":"::1","level":"error","message":"[500] Cast to Number failed for value \"5-7\" (type string) at path \"age\"","method":"PATCH","path":"/api/v1/onboarding/personalization/697faefbed66770bf9749735","stack":"ApiError: Cast to Number failed for value \"5-7\" (type string) at path \"age\"\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at updatePersonalization (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:63:5)","timestamp":"2026-02-01T20:28:06.771Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"error":"Validation failed: currentClassLevel: `nursery` is not a valid enum value for path `currentClassLevel`.","level":"error","message":"❌ Update personalization error","timestamp":"2026-02-01T20:29:05.723Z"}
{"ip":"::1","level":"error","message":"[400] Validation failed: currentClassLevel: `nursery` is not a valid enum value for path `currentClassLevel`.","method":"PATCH","path":"/api/v1/onboarding/personalization/697faefbed66770bf9749735","stack":"ApiError: Validation failed: currentClassLevel: `nursery` is not a valid enum value for path `currentClassLevel`.\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at updatePersonalization (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:63:5)","timestamp":"2026-02-01T20:29:05.728Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"error":"Validation failed: currentClassLevel: `Nursery` is not a valid enum value for path `currentClassLevel`.","level":"error","message":"❌ Update personalization error","timestamp":"2026-02-01T20:30:14.344Z"}
{"ip":"::1","level":"error","message":"[400] Validation failed: currentClassLevel: `Nursery` is not a valid enum value for path `currentClassLevel`.","method":"PATCH","path":"/api/v1/onboarding/personalization/697faefbed66770bf9749735","stack":"ApiError: Validation failed: currentClassLevel: `Nursery` is not a valid enum value for path `currentClassLevel`.\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at updatePersonalization (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:63:5)","timestamp":"2026-02-01T20:30:14.347Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"error":"Validation failed: currentClassLevel: `Primary` is not a valid enum value for path `currentClassLevel`.","level":"error","message":"❌ Update personalization error","timestamp":"2026-02-01T20:31:37.804Z"}
{"ip":"::1","level":"error","message":"[400] Validation failed: currentClassLevel: `Primary` is not a valid enum value for path `currentClassLevel`.","method":"PATCH","path":"/api/v1/onboarding/personalization/697faefbed66770bf9749735","stack":"ApiError: Validation failed: currentClassLevel: `Primary` is not a valid enum value for path `currentClassLevel`.\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at updatePersonalization (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:63:5)","timestamp":"2026-02-01T20:31:37.813Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"currentClassLevel":"primary","level":"info","message":"✅ User personalization updated","profilePictureUrl":null,"timestamp":"2026-02-01T20:32:40.025Z","userId":"697faefbed66770bf9749735"}
{"goals":["Reading faster","Spelling","Doing math in my head"],"level":"info","message":"✅ User learning goals updated","timestamp":"2026-02-01T20:32:40.203Z","userId":"697faefbed66770bf9749735"}
{"currentClassLevel":"primary","level":"info","message":"✅ User personalization updated","profilePictureUrl":null,"timestamp":"2026-02-01T20:33:06.680Z","userId":"697faefbed66770bf9749735"}
{"goals":["Reading faster","Spelling","Doing math in my head"],"level":"info","message":"✅ User learning goals updated","timestamp":"2026-02-01T20:33:06.976Z","userId":"697faefbed66770bf9749735"}
{"currentClassLevel":"primary","level":"info","message":"✅ User personalization updated","profilePictureUrl":null,"timestamp":"2026-02-01T20:34:23.328Z","userId":"697faefbed66770bf9749735"}
{"goals":["Reading faster","Spelling","Doing math in my head"],"level":"info","message":"✅ User learning goals updated","timestamp":"2026-02-01T20:34:23.549Z","userId":"697faefbed66770bf9749735"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:34:25.407Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:34:26.162Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:34:30.057Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:34:30.863Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:34:33.834Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:34:34.619Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:34:44.972Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:34:45.628Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"error":{"__isAuthError":true,"code":"invalid_credentials","name":"AuthApiError","status":400},"level":"warn","message":"Supabase login failed","timestamp":"2026-02-01T20:39:56.436Z"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-01T20:40:08.802Z","userId":"697faefbed66770bf9749735"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:40:10.001Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:40:11.808Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-01T20:40:12.833Z","userId":"697faefbed66770bf9749735"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:40:18.161Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:40:18.874Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:40:20.870Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:40:21.628Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:40:48.608Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:40:49.081Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:54:41.750Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:54:43.767Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:54:44.424Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:54:45.150Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:54:45.871Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] User class information is missing","method":"GET","path":"/api/v1/classes/courses","stack":"ApiError: User class information is missing\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\class.controller.ts:18:11)\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\utils\\AsyncHandler.ts:7:21)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireMongoProfile (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:74:3)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at requireSupabaseUser (C:\\Users\\HP\\storra-backend\\src\\middlewares\\supabaseAuth.ts:52:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-01T20:54:46.587Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2026-02-01T20:55:33.281Z","userId":"697fbdc4f786fecfb8821c4f"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-01T20:55:37.761Z","userId":"697fbdc4f786fecfb8821c4f"}
{"error":"Validation failed: currentClassLevel: `Primary 1` is not a valid enum value for path `currentClassLevel`.","level":"error","message":"❌ Update personalization error","timestamp":"2026-02-01T20:56:07.935Z"}
{"ip":"::1","level":"error","message":"[400] Validation failed: currentClassLevel: `Primary 1` is not a valid enum value for path `currentClassLevel`.","method":"PATCH","path":"/api/v1/onboarding/personalization/697fbdc4f786fecfb8821c4f","stack":"ApiError: Validation failed: currentClassLevel: `Primary 1` is not a valid enum value for path `currentClassLevel`.\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at updatePersonalization (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:63:5)","timestamp":"2026-02-01T20:56:07.945Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"error":"Validation failed: currentClassLevel: `Primary 1` is not a valid enum value for path `currentClassLevel`.","level":"error","message":"❌ Update personalization error","timestamp":"2026-02-01T20:57:56.036Z"}
{"ip":"::1","level":"error","message":"[400] Validation failed: currentClassLevel: `Primary 1` is not a valid enum value for path `currentClassLevel`.","method":"PATCH","path":"/api/v1/onboarding/personalization/697fbdc4f786fecfb8821c4f","stack":"ApiError: Validation failed: currentClassLevel: `Primary 1` is not a valid enum value for path `currentClassLevel`.\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at updatePersonalization (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:63:5)","timestamp":"2026-02-01T20:57:56.044Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"error":"Validation failed: currentClassLevel: `primary-1` is not a valid enum value for path `currentClassLevel`.","level":"error","message":"❌ Update personalization error","timestamp":"2026-02-01T20:58:08.837Z"}
{"ip":"::1","level":"error","message":"[400] Validation failed: currentClassLevel: `primary-1` is not a valid enum value for path `currentClassLevel`.","method":"PATCH","path":"/api/v1/onboarding/personalization/697fbdc4f786fecfb8821c4f","stack":"ApiError: Validation failed: currentClassLevel: `primary-1` is not a valid enum value for path `currentClassLevel`.\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at updatePersonalization (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:63:5)","timestamp":"2026-02-01T20:58:08.848Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"error":"Validation failed: currentClassLevel: `primary-1` is not a valid enum value for path `currentClassLevel`.","level":"error","message":"❌ Update personalization error","timestamp":"2026-02-01T21:01:06.368Z"}
{"ip":"::1","level":"error","message":"[400] Validation failed: currentClassLevel: `primary-1` is not a valid enum value for path `currentClassLevel`.","method":"PATCH","path":"/api/v1/onboarding/personalization/697fbdc4f786fecfb8821c4f","stack":"ApiError: Validation failed: currentClassLevel: `primary-1` is not a valid enum value for path `currentClassLevel`.\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at updatePersonalization (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:63:5)","timestamp":"2026-02-01T21:01:06.377Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"currentClassLevel":"primary","level":"info","message":"✅ User personalization updated","profilePictureUrl":null,"timestamp":"2026-02-01T21:04:30.042Z","userId":"697fbdc4f786fecfb8821c4f"}
{"goals":["Reading faster","Spelling","Doing math in my head"],"level":"info","message":"✅ User learning goals updated","timestamp":"2026-02-01T21:04:30.246Z","userId":"697fbdc4f786fecfb8821c4f"}
{"currentClassLevel":"primary","level":"info","message":"✅ User personalization updated","profilePictureUrl":null,"timestamp":"2026-02-01T21:04:38.028Z","userId":"697fbdc4f786fecfb8821c4f"}
{"goals":["Reading faster","Spelling","Doing math in my head"],"level":"info","message":"✅ User learning goals updated","timestamp":"2026-02-01T21:04:38.234Z","userId":"697fbdc4f786fecfb8821c4f"}
{"error":"Age, class level, and preferred language are required","level":"error","message":"❌ Update personalization error","timestamp":"2026-02-01T21:09:58.349Z"}
{"ip":"::1","level":"error","message":"[400] Age, class level, and preferred language are required","method":"PATCH","path":"/api/v1/onboarding/personalization/697fbdc4f786fecfb8821c4f","stack":"ApiError: Age, class level, and preferred language are required\n    at updatePersonalization (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:24:13)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at param (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:600:14)\n    at param (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:610:14)\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:664:3)","timestamp":"2026-02-01T21:09:58.356Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"error":"Validation failed: currentClassLevel: `primary-1` is not a valid enum value for path `currentClassLevel`.","level":"error","message":"❌ Update personalization error","timestamp":"2026-02-01T21:10:21.638Z"}
{"ip":"::1","level":"error","message":"[400] Validation failed: currentClassLevel: `primary-1` is not a valid enum value for path `currentClassLevel`.","method":"PATCH","path":"/api/v1/onboarding/personalization/697fbdc4f786fecfb8821c4f","stack":"ApiError: Validation failed: currentClassLevel: `primary-1` is not a valid enum value for path `currentClassLevel`.\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at updatePersonalization (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:63:5)","timestamp":"2026-02-01T21:10:21.640Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"error":"Age, class level, and preferred language are required","level":"error","message":"❌ Update personalization error","timestamp":"2026-02-01T21:16:55.407Z"}
{"ip":"::1","level":"error","message":"[400] Age, class level, and preferred language are required","method":"PATCH","path":"/api/v1/onboarding/personalization/697fbdc4f786fecfb8821c4f","stack":"ApiError: Age, class level, and preferred language are required\n    at updatePersonalization (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:24:13)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at param (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:600:14)\n    at param (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:610:14)\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:664:3)","timestamp":"2026-02-01T21:16:55.413Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"error":"Validation failed: currentClassLevel: `nursery` is not a valid enum value for path `currentClassLevel`.","level":"error","message":"❌ Update personalization error","timestamp":"2026-02-01T21:17:55.823Z"}
{"ip":"::1","level":"error","message":"[400] Validation failed: currentClassLevel: `nursery` is not a valid enum value for path `currentClassLevel`.","method":"PATCH","path":"/api/v1/onboarding/personalization/697fbdc4f786fecfb8821c4f","stack":"ApiError: Validation failed: currentClassLevel: `nursery` is not a valid enum value for path `currentClassLevel`.\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at updatePersonalization (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:63:5)","timestamp":"2026-02-01T21:17:55.831Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"currentClassLevel":"primary","level":"info","message":"✅ User personalization updated","profilePictureUrl":null,"timestamp":"2026-02-01T21:18:12.470Z","userId":"697fbdc4f786fecfb8821c4f"}
{"goals":["Reading faster","Spelling","Doing math in my head"],"level":"info","message":"✅ User learning goals updated","timestamp":"2026-02-01T21:18:12.654Z","userId":"697fbdc4f786fecfb8821c4f"}
{"classId":"primary-1","educationLevel":"primary","level":"info","message":"User class selected","timestamp":"2026-02-01T21:18:18.413Z","userId":"697fbdc4f786fecfb8821c4f"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2026-02-12T20:51:49.330Z","userId":"698e3d44e495a59c6c678e86"}
{"fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthRetryableFetchError\",\n  \"status\": 0\n}","level":"error","message":"Supabase signup failed fetch failed","status":0,"timestamp":"2026-02-12T20:57:05.867Z"}
{"fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthRetryableFetchError\",\n  \"status\": 0\n}","level":"error","message":"Supabase signup failed fetch failed","status":0,"timestamp":"2026-02-12T20:57:07.861Z"}
{"fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthRetryableFetchError\",\n  \"status\": 0\n}","level":"error","message":"Supabase signup failed fetch failed","status":0,"timestamp":"2026-02-12T20:57:15.591Z"}
{"fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthRetryableFetchError\",\n  \"status\": 0\n}","level":"error","message":"Supabase signup failed fetch failed","status":0,"timestamp":"2026-02-12T20:57:59.887Z"}
{"fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthRetryableFetchError\",\n  \"status\": 0\n}","level":"error","message":"Supabase signup failed fetch failed","status":0,"timestamp":"2026-02-12T20:58:01.099Z"}
{"fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthRetryableFetchError\",\n  \"status\": 0\n}","level":"error","message":"Supabase signup failed fetch failed","status":0,"timestamp":"2026-02-12T20:58:16.128Z"}
{"fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthRetryableFetchError\",\n  \"status\": 0\n}","level":"error","message":"Supabase signup failed fetch failed","status":0,"timestamp":"2026-02-12T20:58:18.551Z"}
{"fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthRetryableFetchError\",\n  \"status\": 0\n}","level":"error","message":"Supabase signup failed fetch failed","status":0,"timestamp":"2026-02-12T20:58:26.291Z"}
{"fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthRetryableFetchError\",\n  \"status\": 0\n}","level":"error","message":"Supabase signup failed fetch failed","status":0,"timestamp":"2026-02-12T20:58:31.533Z"}
{"code":"email_exists","fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthApiError\",\n  \"status\": 422,\n  \"code\": \"email_exists\"\n}","level":"error","message":"Supabase signup failed A user with this email address has already been registered","status":422,"timestamp":"2026-02-12T21:00:22.475Z"}
{"code":"email_exists","fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthApiError\",\n  \"status\": 422,\n  \"code\": \"email_exists\"\n}","level":"error","message":"Supabase signup failed A user with this email address has already been registered","status":422,"timestamp":"2026-02-12T21:00:24.127Z"}
{"code":"email_exists","fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthApiError\",\n  \"status\": 422,\n  \"code\": \"email_exists\"\n}","level":"error","message":"Supabase signup failed A user with this email address has already been registered","status":422,"timestamp":"2026-02-12T21:00:25.817Z"}
{"code":"email_exists","fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthApiError\",\n  \"status\": 422,\n  \"code\": \"email_exists\"\n}","level":"error","message":"Supabase signup failed A user with this email address has already been registered","status":422,"timestamp":"2026-02-12T21:00:27.336Z"}
{"code":"email_exists","fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthApiError\",\n  \"status\": 422,\n  \"code\": \"email_exists\"\n}","level":"error","message":"Supabase signup failed A user with this email address has already been registered","status":422,"timestamp":"2026-02-12T21:00:29.019Z"}
{"code":"email_exists","fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthApiError\",\n  \"status\": 422,\n  \"code\": \"email_exists\"\n}","level":"error","message":"Supabase signup failed A user with this email address has already been registered","status":422,"timestamp":"2026-02-12T21:00:30.728Z"}
{"code":"email_exists","fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthApiError\",\n  \"status\": 422,\n  \"code\": \"email_exists\"\n}","level":"error","message":"Supabase signup failed A user with this email address has already been registered","status":422,"timestamp":"2026-02-12T21:01:16.048Z"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2026-02-12T21:01:35.143Z","userId":"698e3fae5ca760ad9efe75ce"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T21:01:41.932Z","userId":"698e3fae5ca760ad9efe75ce"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T21:01:49.337Z","userId":"698e3fae5ca760ad9efe75ce"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2026-02-12T21:06:38.791Z","userId":"698e40d85ca760ad9efe764e"}
{"error":{"__isAuthError":true,"name":"AuthRetryableFetchError","status":0},"level":"warn","message":"Failed to create session after signup","timestamp":"2026-02-12T21:06:49.633Z"}
{"fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthRetryableFetchError\",\n  \"status\": 0\n}","level":"error","message":"Supabase signup failed fetch failed","status":0,"timestamp":"2026-02-12T21:07:28.732Z"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2026-02-12T21:08:09.687Z","userId":"698e41396d210f676d7d852a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T21:08:47.331Z","userId":"698e41396d210f676d7d852a"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T21:09:58.588Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2026-02-12T21:10:40.364Z","userId":"698e41cf6d210f676d7d85dd"}
{"code":"email_exists","fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthApiError\",\n  \"status\": 422,\n  \"code\": \"email_exists\"\n}","level":"error","message":"Supabase signup failed A user with this email address has already been registered","status":422,"timestamp":"2026-02-12T21:11:41.863Z"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T21:11:46.427Z","userId":"698e41cf6d210f676d7d85dd"}
{"fullError":"{\n  \"__isAuthError\": true,\n  \"name\": \"AuthRetryableFetchError\",\n  \"status\": 0\n}","level":"error","message":"Supabase signup failed fetch failed","status":0,"timestamp":"2026-02-12T21:11:58.398Z"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2026-02-12T21:12:34.274Z","userId":"698e42366d210f676d7d8623"}
{"error":{"__isAuthError":true,"name":"AuthRetryableFetchError","status":0},"level":"warn","message":"Failed to create session after signup","timestamp":"2026-02-12T21:12:45.213Z"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2026-02-12T21:13:21.702Z","userId":"698e4271625d8dc02886c19b"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T21:13:29.337Z","userId":"698e4271625d8dc02886c19b"}
{"currentClassLevel":"primary","level":"info","message":"✅ User personalization updated","profilePictureUrl":null,"timestamp":"2026-02-12T21:13:52.012Z","userId":"698e4271625d8dc02886c19b"}
{"goals":["Reading faster","Spelling","Doing math in my head"],"level":"info","message":"✅ User learning goals updated","timestamp":"2026-02-12T21:13:52.352Z","userId":"698e4271625d8dc02886c19b"}
{"classId":"primary-6","educationLevel":"primary","level":"info","message":"User class selected","timestamp":"2026-02-12T21:14:01.123Z","userId":"698e4271625d8dc02886c19b"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2026-02-12T21:15:06.724Z","userId":"698e42d7625d8dc02886c1f3"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T21:15:33.456Z","userId":"698e42d7625d8dc02886c1f3"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T21:16:28.270Z","userId":"698e42d7625d8dc02886c1f3"}
{"currentClassLevel":"secondary","level":"info","message":"✅ User personalization updated","profilePictureUrl":null,"timestamp":"2026-02-12T21:16:44.651Z","userId":"698e42d7625d8dc02886c1f3"}
{"goals":["Reading faster","Spelling","Doing math in my head"],"level":"info","message":"✅ User learning goals updated","timestamp":"2026-02-12T21:16:47.734Z","userId":"698e42d7625d8dc02886c1f3"}
{"currentClassLevel":"primary","level":"info","message":"✅ User personalization updated","profilePictureUrl":null,"timestamp":"2026-02-12T21:20:46.159Z","userId":"698e42d7625d8dc02886c1f3"}
{"goals":["Reading faster","Spelling","Doing math in my head"],"level":"info","message":"✅ User learning goals updated","timestamp":"2026-02-12T21:20:49.679Z","userId":"698e42d7625d8dc02886c1f3"}
{"error":"getaddrinfo EAI_AGAIN cluster0-shard-00-00.prny1.mongodb.net","level":"error","message":"Select class error","timestamp":"2026-02-12T21:22:04.500Z"}
{"level":"error","message":"[500] getaddrinfo EAI_AGAIN cluster0-shard-00-00.prny1.mongodb.net","method":"POST","path":"/api/v1/onboarding/select-class/698e42d7625d8dc02886c1f3","stack":"ApiError: getaddrinfo EAI_AGAIN cluster0-shard-00-00.prny1.mongodb.net\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at selectClass (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:243:5)","timestamp":"2026-02-12T21:22:04.525Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"error":"getaddrinfo EAI_AGAIN cluster0-shard-00-00.prny1.mongodb.net","level":"error","message":"Select class error","timestamp":"2026-02-12T21:22:24.912Z"}
{"level":"error","message":"[500] getaddrinfo EAI_AGAIN cluster0-shard-00-00.prny1.mongodb.net","method":"POST","path":"/api/v1/onboarding/select-class/698e42d7625d8dc02886c1f3","stack":"ApiError: getaddrinfo EAI_AGAIN cluster0-shard-00-00.prny1.mongodb.net\n    at errorHandler (C:\\Users\\HP\\storra-backend\\src\\middlewares\\ErrorHandler.ts:17:13)\n    at Layer.handleError (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:116:17)\n    at trimPrefix (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:340:13)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:297:9\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:582:12)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:291:5)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:688:15\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:276:14)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:132:14)\n    at selectClass (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:243:5)","timestamp":"2026-02-12T21:22:24.927Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"classId":"primary-4","educationLevel":"primary","level":"info","message":"User class selected","timestamp":"2026-02-12T21:22:37.801Z","userId":"698e42d7625d8dc02886c1f3"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T21:35:51.448Z","userId":"698e42d7625d8dc02886c1f3"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T21:35:57.086Z","userId":"698e42d7625d8dc02886c1f3"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T21:38:17.044Z","userId":"698e42d7625d8dc02886c1f3"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T22:04:45.183Z","userId":"698e42d7625d8dc02886c1f3"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T22:05:03.214Z","userId":"698e42d7625d8dc02886c1f3"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T22:05:54.225Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T22:06:10.883Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T22:06:38.928Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T22:06:46.810Z","userId":"691992ef757446fa524ca7b7"}
{"ip":"::1","level":"error","message":"[400] No spin chances available for today","method":"POST","path":"/api/v1/spin/spinthewheel","stack":"ApiError: No spin chances available for today\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\spinTheWheel.controller.ts:109:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-12T22:07:29.656Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"ip":"::1","level":"error","message":"[400] No spin chances available for today","method":"POST","path":"/api/v1/spin/spinthewheel","stack":"ApiError: No spin chances available for today\n    at <anonymous> (C:\\Users\\HP\\storra-backend\\src\\controllers\\spinTheWheel.controller.ts:109:11)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-12T22:07:33.104Z","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Safari/537.36"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T22:07:54.184Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T22:08:01.362Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T22:08:55.426Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T22:09:02.590Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T22:09:33.139Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-12T22:10:10.489Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:19:23.008Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:19:29.638Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:19:35.835Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:20:55.994Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2026-02-13T20:21:43.791Z","userId":"698f87d7f8a10324f775ccc7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:21:50.730Z","userId":"698f87d7f8a10324f775ccc7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:21:56.831Z","userId":"698f87d7f8a10324f775ccc7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:22:24.952Z","userId":"698f87d7f8a10324f775ccc7"}
{"currentClassLevel":"primary","level":"info","message":"✅ User personalization updated","profilePictureUrl":null,"timestamp":"2026-02-13T20:22:42.898Z","userId":"698f87d7f8a10324f775ccc7"}
{"goals":["Reading faster","Spelling","Doing math in my head"],"level":"info","message":"✅ User learning goals updated","timestamp":"2026-02-13T20:22:43.111Z","userId":"698f87d7f8a10324f775ccc7"}
{"classId":"primary-1","educationLevel":"primary","level":"info","message":"User class selected","timestamp":"2026-02-13T20:22:48.219Z","userId":"698f87d7f8a10324f775ccc7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:26:50.278Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:26:55.281Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:27:06.862Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:27:11.464Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:27:23.909Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:27:28.046Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:28:21.097Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:28:27.490Z","userId":"691992ef757446fa524ca7b7"}
{"error":"User validation failed: phoneNumber: Invalid phone number format","level":"error","message":"MongoDB profile creation failed, rolling back Supabase user","supabaseUserId":"3936252d-e119-4eb5-ba60-9781f037ba5a","timestamp":"2026-02-13T20:34:14.692Z"}
{"error":"Registration failed due to a database error. Please try again.","level":"error","message":"Registration error","timestamp":"2026-02-13T20:34:15.197Z"}
{"ip":"::1","level":"error","message":"[500] Registration failed due to a database error. Please try again.","method":"POST","path":"/api/v1/student/registeruser","stack":"ApiError: Registration failed due to a database error. Please try again.\n    at registerUser (C:\\Users\\HP\\storra-backend\\src\\controllers\\user.controller.ts:122:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)","timestamp":"2026-02-13T20:34:15.231Z","userAgent":"Mozilla/5.0 (Linux; Android 13; SM-G981B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Mobile Safari/537.36"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2026-02-13T20:34:33.001Z","userId":"698f8ad8f8a10324f775d3f3"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:34:38.588Z","userId":"698f8ad8f8a10324f775d3f3"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:34:46.808Z","userId":"698f8ad8f8a10324f775d3f3"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2026-02-13T20:36:04.794Z","userId":"698f8b34f8a10324f775d483"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:36:11.799Z","userId":"698f8b34f8a10324f775d483"}
{"currentClassLevel":"secondary","level":"info","message":"✅ User personalization updated","profilePictureUrl":null,"timestamp":"2026-02-13T20:36:29.062Z","userId":"698f8b34f8a10324f775d483"}
{"goals":["Reading faster","Spelling","Doing math in my head"],"level":"info","message":"✅ User learning goals updated","timestamp":"2026-02-13T20:36:29.377Z","userId":"698f8b34f8a10324f775d483"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T20:39:37.456Z","userId":"698f8b34f8a10324f775d483"}
{"error":"Age, class level, and preferred language are required","level":"error","message":"❌ Update personalization error","timestamp":"2026-02-13T20:39:56.840Z"}
{"ip":"::1","level":"error","message":"[400] Age, class level, and preferred language are required","method":"PATCH","path":"/api/v1/onboarding/personalization/698f8b34f8a10324f775d483","stack":"ApiError: Age, class level, and preferred language are required\n    at updatePersonalization (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:24:13)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at param (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:600:14)\n    at param (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:610:14)\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:664:3)","timestamp":"2026-02-13T20:39:56.884Z","userAgent":"Mozilla/5.0 (Linux; Android 13; SM-G981B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Mobile Safari/537.36"}
{"error":"Age, class level, and preferred language are required","level":"error","message":"❌ Update personalization error","timestamp":"2026-02-13T20:39:59.921Z"}
{"ip":"::1","level":"error","message":"[400] Age, class level, and preferred language are required","method":"PATCH","path":"/api/v1/onboarding/personalization/698f8b34f8a10324f775d483","stack":"ApiError: Age, class level, and preferred language are required\n    at updatePersonalization (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:24:13)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at param (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:600:14)\n    at param (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:610:14)\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:664:3)","timestamp":"2026-02-13T20:39:59.939Z","userAgent":"Mozilla/5.0 (Linux; Android 13; SM-G981B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Mobile Safari/537.36"}
{"error":"Age, class level, and preferred language are required","level":"error","message":"❌ Update personalization error","timestamp":"2026-02-13T20:40:01.146Z"}
{"ip":"::1","level":"error","message":"[400] Age, class level, and preferred language are required","method":"PATCH","path":"/api/v1/onboarding/personalization/698f8b34f8a10324f775d483","stack":"ApiError: Age, class level, and preferred language are required\n    at updatePersonalization (C:\\Users\\HP\\storra-backend\\src\\controllers\\onboarding.controller.ts:24:13)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at next (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:157:13)\n    at Route.dispatch (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\route.js:117:3)\n    at handle (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:435:11)\n    at Layer.handleRequest (C:\\Users\\HP\\storra-backend\\node_modules\\router\\lib\\layer.js:152:17)\n    at C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:295:15\n    at param (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:600:14)\n    at param (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:610:14)\n    at processParams (C:\\Users\\HP\\storra-backend\\node_modules\\router\\index.js:664:3)","timestamp":"2026-02-13T20:40:01.167Z","userAgent":"Mozilla/5.0 (Linux; Android 13; SM-G981B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/144.0.0.0 Mobile Safari/537.36"}
{"currentClassLevel":"primary","level":"info","message":"✅ User personalization updated","profilePictureUrl":null,"timestamp":"2026-02-13T20:40:18.450Z","userId":"698f8b34f8a10324f775d483"}
{"goals":["Reading faster","Spelling","Doing math in my head"],"level":"info","message":"✅ User learning goals updated","timestamp":"2026-02-13T20:40:18.728Z","userId":"698f8b34f8a10324f775d483"}
{"classId":"primary-1","educationLevel":"primary","level":"info","message":"User class selected","timestamp":"2026-02-13T20:46:23.368Z","userId":"698f8b34f8a10324f775d483"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T21:12:35.578Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T21:12:39.613Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T21:13:19.057Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T21:22:41.235Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T21:22:44.440Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2026-02-13T21:23:13.195Z","userId":"698f96404ff40efc4f710b32"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T21:23:16.576Z","userId":"698f96404ff40efc4f710b32"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T21:23:19.272Z","userId":"698f96404ff40efc4f710b32"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T21:24:08.445Z","userId":"698f96404ff40efc4f710b32"}
{"currentClassLevel":"secondary","level":"info","message":"✅ User personalization updated","profilePictureUrl":null,"timestamp":"2026-02-13T21:24:32.756Z","userId":"698f96404ff40efc4f710b32"}
{"goals":["Reading faster","Spelling","Doing math in my head"],"level":"info","message":"✅ User learning goals updated","timestamp":"2026-02-13T21:24:32.980Z","userId":"698f96404ff40efc4f710b32"}
{"currentClassLevel":"secondary","level":"info","message":"✅ User personalization updated","profilePictureUrl":null,"timestamp":"2026-02-13T21:33:57.686Z","userId":"698f96404ff40efc4f710b32"}
{"goals":["Reading faster","Spelling","Doing math in my head"],"level":"info","message":"✅ User learning goals updated","timestamp":"2026-02-13T21:33:57.952Z","userId":"698f96404ff40efc4f710b32"}
{"classId":"jss-1","educationLevel":"junior-secondary","level":"info","message":"User class selected","timestamp":"2026-02-13T21:34:03.416Z","userId":"698f96404ff40efc4f710b32"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T21:44:06.617Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T21:44:12.059Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T21:44:31.649Z","userId":"691992ef757446fa524ca7b7"}
{"level":"info","message":"MongoDB profile created","role":"user","timestamp":"2026-02-13T21:45:32.751Z","userId":"698f9b7cd0ef9e876e95a857"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T21:45:36.796Z","userId":"698f9b7cd0ef9e876e95a857"}
{"level":"info","message":"✅ Current user fetched","timestamp":"2026-02-13T21:45:40.437Z","userId":"698f9b7cd0ef9e876e95a857"}
